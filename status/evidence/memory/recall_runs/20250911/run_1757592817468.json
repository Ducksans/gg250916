{
  "query": "Dev UI에서 Tool Mode와 /api/chat/toolcall의 관계를 설명해줘. 근거를 포함해.",
  "params": {
    "k": 5,
    "need_fresh": 1,
    "half_life_days": 7.0,
    "fresh_weight": 0.6,
    "self_rag": 1,
    "tiers": [
      "long",
      "medium",
      "short",
      "ultra_long",
      "ultra_short"
    ],
    "rerank_blend": {
      "score_w": 0.92,
      "rubric_w": 0.08
    },
    "rubric_weights": {
      "kw": 0.6,
      "recency": 0.2,
      "refs": 0.2
    },
    "rerank_policy": {
      "apply_if": "recency<0.2 AND refs<0.2",
      "bonus": {
        "refs_ge_1_add": 0.05,
        "normalized_threshold": 0.2
      },
      "cap": {
        "kw_ge": 0.9,
        "max_uplift": 0.02
      }
    }
  },
  "pre_items": [
    {
      "tier": "ultra_short",
      "score": 1.799999984308532,
      "ts": "2025-09-11T12:13:37.442Z",
      "scope_id": null,
      "text": "Dev UI에서 Tool Mode와 /api/chat/toolcall의 관계를 설명해줘. 근거를 포함해.",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_88odotgh_mffdcln4.jsonl",
      "line_from": 3,
      "line_to": 3,
      "reasons": {
        "kw": 1.0,
        "recency": 0.9999999738475536,
        "refs": 0.0,
        "tier_weight": 1.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 1.7993165365509831,
      "ts": "2025-09-11T12:02:07.741Z",
      "scope_id": null,
      "text": "Dev UI에서 Tool Mode와 /api/chat/toolcall의 관계를 설명해줘. 근거를 포함해.",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_1bhi4cg4_mffchqm1.jsonl",
      "line_from": 11,
      "line_to": 11,
      "reasons": {
        "kw": 1.0,
        "recency": 0.9988608942516386,
        "refs": 0.0,
        "tier_weight": 1.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 1.0385075580530385,
      "ts": "2025-09-11T11:48:29.325Z",
      "scope_id": null,
      "text": "무엇을 도와드릴까요?",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_s4kmes09_mffbwy6g.jsonl",
      "line_from": 4,
      "line_to": 4,
      "reasons": {
        "kw": 0.0,
        "recency": 0.9975125967550641,
        "refs": 0.6,
        "tier_weight": 1.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 0.5987760791756424,
      "ts": "2025-08-21T02:32:00Z",
      "scope_id": "ST-1201",
      "text": "BT-12 5계층 메모리 루프 v1 스키마·경로·API(store/search/recall) 초안 확정",
      "path": "status/evidence/memory/tiers/ultra_short/20250821/GG-SESS-LOCAL.jsonl",
      "line_from": 1,
      "line_to": 1,
      "reasons": {
        "kw": 0.09090909090909091,
        "recency": 0.24644498044425234,
        "refs": 0.4,
        "tier_weight": 1.0
      }
    },
    {
      "tier": "short",
      "score": 0.5478687958817553,
      "ts": "2025-08-21T02:32:30Z",
      "scope_id": "ST-1201",
      "text": "덕산 합의: 기억-우선 원칙과 5계층 메모리(초단기/단기/중기/장기/초장기) 라우팅을 ST-1201에 적용. 임계치 미달 시 ‘없음 템플릿’ 응답과 Evidence 경로를 반드시 포함.",
      "path": "status/evidence/memory/tiers/short/20250821/GG-SESS-LOCAL.jsonl",
      "line_from": 1,
      "line_to": 1,
      "reasons": {
        "kw": 0.0,
        "recency": 0.24644799313625876,
        "refs": 0.6,
        "tier_weight": 0.8
      }
    }
  ],
  "post_items": [
    {
      "tier": "ultra_short",
      "score": 1.799999984308532,
      "ts": "2025-09-11T12:13:37.442Z",
      "scope_id": null,
      "text": "Dev UI에서 Tool Mode와 /api/chat/toolcall의 관계를 설명해줘. 근거를 포함해.",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_88odotgh_mffdcln4.jsonl",
      "line_from": 3,
      "line_to": 3,
      "reasons": {
        "kw": 1.0,
        "recency": 0.9999999738475536,
        "refs": 0.0,
        "tier_weight": 1.0
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 1.799999984308532,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 1.7993165365509831,
      "ts": "2025-09-11T12:02:07.741Z",
      "scope_id": null,
      "text": "Dev UI에서 Tool Mode와 /api/chat/toolcall의 관계를 설명해줘. 근거를 포함해.",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_1bhi4cg4_mffchqm1.jsonl",
      "line_from": 11,
      "line_to": 11,
      "reasons": {
        "kw": 1.0,
        "recency": 0.9988608942516386,
        "refs": 0.0,
        "tier_weight": 1.0
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 1.7993165365509831,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 1.0385075580530385,
      "ts": "2025-09-11T11:48:29.325Z",
      "scope_id": null,
      "text": "무엇을 도와드릴까요?",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_s4kmes09_mffbwy6g.jsonl",
      "line_from": 4,
      "line_to": 4,
      "reasons": {
        "kw": 0.0,
        "recency": 0.9975125967550641,
        "refs": 0.6,
        "tier_weight": 1.0
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 1.0385075580530385,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 0.5987760791756424,
      "ts": "2025-08-21T02:32:00Z",
      "scope_id": "ST-1201",
      "text": "BT-12 5계층 메모리 루프 v1 스키마·경로·API(store/search/recall) 초안 확정",
      "path": "status/evidence/memory/tiers/ultra_short/20250821/GG-SESS-LOCAL.jsonl",
      "line_from": 1,
      "line_to": 1,
      "reasons": {
        "kw": 0.09090909090909091,
        "recency": 0.24644498044425234,
        "refs": 0.4,
        "tier_weight": 1.0
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 0.5987760791756424,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    },
    {
      "tier": "short",
      "score": 0.5478687958817553,
      "ts": "2025-08-21T02:32:30Z",
      "scope_id": "ST-1201",
      "text": "덕산 합의: 기억-우선 원칙과 5계층 메모리(초단기/단기/중기/장기/초장기) 라우팅을 ST-1201에 적용. 임계치 미달 시 ‘없음 템플릿’ 응답과 Evidence 경로를 반드시 포함.",
      "path": "status/evidence/memory/tiers/short/20250821/GG-SESS-LOCAL.jsonl",
      "line_from": 1,
      "line_to": 1,
      "reasons": {
        "kw": 0.0,
        "recency": 0.24644799313625876,
        "refs": 0.6,
        "tier_weight": 0.8
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 0.5478687958817553,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    }
  ],
  "ts": "2025-09-11T12:13:37.468Z"
}