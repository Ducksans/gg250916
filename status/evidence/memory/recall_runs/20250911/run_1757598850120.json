{
  "query": "너 이 스레드의 대화 기억 하니 ?",
  "params": {
    "k": 5,
    "need_fresh": 1,
    "half_life_days": 7.0,
    "fresh_weight": 0.6,
    "self_rag": 1,
    "tiers": [
      "long",
      "medium",
      "short",
      "ultra_long",
      "ultra_short"
    ],
    "rerank_blend": {
      "score_w": 0.92,
      "rubric_w": 0.08
    },
    "rubric_weights": {
      "kw": 0.6,
      "recency": 0.2,
      "refs": 0.2
    },
    "rerank_policy": {
      "apply_if": "recency<0.2 AND refs<0.2",
      "bonus": {
        "refs_ge_1_add": 0.05,
        "normalized_threshold": 0.2
      },
      "cap": {
        "kw_ge": 0.9,
        "max_uplift": 0.02
      }
    }
  },
  "pre_items": [
    {
      "tier": "ultra_short",
      "score": 1.7999981481971836,
      "ts": "2025-09-11T13:54:08.236Z",
      "scope_id": null,
      "text": "너 이 스레드의 대화 기억 하니 ?",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/gg_mig_20250911_06ckhx.jsonl",
      "line_from": 1,
      "line_to": 1,
      "reasons": {
        "kw": 1.0,
        "recency": 0.9999969136619726,
        "refs": 0.0,
        "tier_weight": 1.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 1.1994776149482989,
      "ts": "2025-09-11T11:51:55.659Z",
      "scope_id": null,
      "text": "체크포인트 원장 파일은 프로젝트 내 특정 경로에 위치하며, append-only 규칙을 따릅니다. 이 규칙은 데이터가 파일에 추가될 수만 있고 기존 데이터를 수정하거나 삭제할 수 없다는 것을 의미합니다. 경로 인용은 다음과 같습니다: [status/evidence/memory/tiers/ultra_short/20250911/thread_1bhi4cg4_mffchqm1.jsonl#L3-3](status/evidence/memory/tiers/ultra_short/20250911/thread_1bhi4cg4_mffchqm1.jsonl#L3-3).",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_1bhi4cg4_mffchqm1.jsonl",
      "line_from": 4,
      "line_to": 4,
      "reasons": {
        "kw": 0.16666666666666666,
        "recency": 0.9880182471360539,
        "refs": 0.6,
        "tier_weight": 1.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 1.0326111950418144,
      "ts": "2025-09-11T11:48:29.325Z",
      "scope_id": null,
      "text": "무엇을 도와드릴까요?",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_s4kmes09_mffbwy6g.jsonl",
      "line_from": 4,
      "line_to": 4,
      "reasons": {
        "kw": 0.0,
        "recency": 0.9876853250696908,
        "refs": 0.6,
        "tier_weight": 1.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 0.9645437545740427,
      "ts": "2025-09-11T13:18:22.609Z",
      "scope_id": null,
      "text": "/home/duksan/바탕화면/gumgang_meeting/4c292aca-8b63-407d-9495-49681eb5bb86.png 이 파일 볼 수 있니?",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_d70obb80_mfffdsmz.jsonl",
      "line_from": 5,
      "line_to": 5,
      "reasons": {
        "kw": 0.16666666666666666,
        "recency": 0.9964618131789602,
        "refs": 0.0,
        "tier_weight": 1.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 0.962467587651318,
      "ts": "2025-09-11T12:43:07.600Z",
      "scope_id": null,
      "text": "/home/duksan/바탕화면/gumgang_meeting/migrated_chat_store.json < 이 파일의 앞 50줄 읽어서 보고해",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_cl7pxreb_mffedvu2.jsonl",
      "line_from": 3,
      "line_to": 3,
      "reasons": {
        "kw": 0.16666666666666666,
        "recency": 0.9930015349744189,
        "refs": 0.0,
        "tier_weight": 1.0
      }
    }
  ],
  "post_items": [
    {
      "tier": "ultra_short",
      "score": 1.7999981481971836,
      "ts": "2025-09-11T13:54:08.236Z",
      "scope_id": null,
      "text": "너 이 스레드의 대화 기억 하니 ?",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/gg_mig_20250911_06ckhx.jsonl",
      "line_from": 1,
      "line_to": 1,
      "reasons": {
        "kw": 1.0,
        "recency": 0.9999969136619726,
        "refs": 0.0,
        "tier_weight": 1.0
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 1.7999981481971836,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 1.1994776149482989,
      "ts": "2025-09-11T11:51:55.659Z",
      "scope_id": null,
      "text": "체크포인트 원장 파일은 프로젝트 내 특정 경로에 위치하며, append-only 규칙을 따릅니다. 이 규칙은 데이터가 파일에 추가될 수만 있고 기존 데이터를 수정하거나 삭제할 수 없다는 것을 의미합니다. 경로 인용은 다음과 같습니다: [status/evidence/memory/tiers/ultra_short/20250911/thread_1bhi4cg4_mffchqm1.jsonl#L3-3](status/evidence/memory/tiers/ultra_short/20250911/thread_1bhi4cg4_mffchqm1.jsonl#L3-3).",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_1bhi4cg4_mffchqm1.jsonl",
      "line_from": 4,
      "line_to": 4,
      "reasons": {
        "kw": 0.16666666666666666,
        "recency": 0.9880182471360539,
        "refs": 0.6,
        "tier_weight": 1.0
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 1.1994776149482989,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 1.0326111950418144,
      "ts": "2025-09-11T11:48:29.325Z",
      "scope_id": null,
      "text": "무엇을 도와드릴까요?",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_s4kmes09_mffbwy6g.jsonl",
      "line_from": 4,
      "line_to": 4,
      "reasons": {
        "kw": 0.0,
        "recency": 0.9876853250696908,
        "refs": 0.6,
        "tier_weight": 1.0
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 1.0326111950418144,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 0.9645437545740427,
      "ts": "2025-09-11T13:18:22.609Z",
      "scope_id": null,
      "text": "/home/duksan/바탕화면/gumgang_meeting/4c292aca-8b63-407d-9495-49681eb5bb86.png 이 파일 볼 수 있니?",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_d70obb80_mfffdsmz.jsonl",
      "line_from": 5,
      "line_to": 5,
      "reasons": {
        "kw": 0.16666666666666666,
        "recency": 0.9964618131789602,
        "refs": 0.0,
        "tier_weight": 1.0
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 0.9645437545740427,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    },
    {
      "tier": "ultra_short",
      "score": 0.962467587651318,
      "ts": "2025-09-11T12:43:07.600Z",
      "scope_id": null,
      "text": "/home/duksan/바탕화면/gumgang_meeting/migrated_chat_store.json < 이 파일의 앞 50줄 읽어서 보고해",
      "path": "status/evidence/memory/tiers/ultra_short/20250911/thread_cl7pxreb_mffedvu2.jsonl",
      "line_from": 3,
      "line_to": 3,
      "reasons": {
        "kw": 0.16666666666666666,
        "recency": 0.9930015349744189,
        "refs": 0.0,
        "tier_weight": 1.0
      },
      "rerank": {
        "applied": false,
        "rubric": null,
        "new_score": 0.962467587651318,
        "bonus_applied": false,
        "cap_applied": false,
        "cap_limit": 0.0
      }
    }
  ],
  "ts": "2025-09-11T13:54:10.120Z"
}