> 목적: **사람 ↔ AI 지식 격차**를 줄이고, 작업 결과를 **항상 Obsidian에 증거 기반으로 남긴다.**  
> 대상: Zed(Gemini 2.5 Pro · 1M ctx), MCP 서버(GumGangCmd/GumGangFS), Obsidian(Interactivity 플러그인)

---

## 0) 구성요소 한눈에
- **VAULT(보관함)**: `/home/duksan/바탕화면/gumgang_0_5/docs/gumgang_2_0`
  - 회의 노트: `금강_회의실.md`
  - 로그 폴더: `금강_로그/` (원본 JSON 저장)
- **스크립트**(프로젝트 루트 `~/바탕화면/gumgang_0_5`)
  - `gg.sh` — `scan`(전체 스캔) / `read`(requirements 읽기)
  - `update_obsidian.sh` — 실행 결과를 **회의 노트에 Append + 로그 저장**
  - `gg_run.js` — 로컬 테스트 러너(선택)
- **Zed MCP 서버**
  - `GumGangFS` / `GumGangCmd` (이미 Zed에 등록/활성)
- **Obsidian 플러그인**
  - Interactivity (텍스트 단축어로 쉘 실행)
  - 단축어(설정 → 커뮤니티 플러그인 → Interactivity → *Text shortcuts*):
    ```
    /ggscan -> /home/duksan/바탕화면/gumgang_0_5/gg.sh scan
    /ggread -> /home/duksan/바탕화면/gumgang_0_5/gg.sh read
    ```

---

## 1) Big Flow (그림 요약)

[사람(덕산)]
└─(요청/명령)→ [Zed Gemini 2.5 Pro]
│
├─ MCP(GumGangFS/Cmd) 호출 → 상태/데이터 수집
│
└─ (필요 시) gg.sh 호출 → update_obsidian.sh 실행
│
├─ 회의 노트(금강_회의실.md)에 Append
└─ 금강_로그/*.json 저장

markdown
복사
편집

**핵심 원리**  
- “실행”은 항상 **증거(JSON) + 기록(Append)** 로 끝난다.  
- 회의 중에는 **/ggscan /ggread** 만으로 “보여주기 가능한” 로그가 쌓인다.  
- Gemini는 1M 컨텍스트로 **바로 근거를 재사용**하며 다음 액션을 제안한다.

---

## 2) Small Flow (상황별 절차)

### A. 회의/작업 시작 1분 루틴
1. Obsidian에서 `금강_회의실.md` 열기  
2. **상단에 두 줄만 실행**
   - 프로젝트 전반 갱신: `/ggscan` (Enter)
   - 특정 의존성/백엔드 핫스팟: `/ggread` (Enter)
3. 화면에서 다음 두 가지 확인
   - `### ⏱ YYYY-MM-DD hh:mm:ss — scan/read` 블록이 **추가**되었는가?
   - `금강_로그/` 폴더에 `full_scan_*.json` 또는 `read_text_*.json`이 **생성**되었는가?

> ✅ 둘 다 확인되면 **근거 축적 상태 양호**. Gemini에게 “방금 로그 기반 요약/이슈/다음 액션”을 요청.

### B. Zed(Gemini)에게 ‘점검 및 보고’ 시키는 템플릿
금강 2.0 MCP 상태 점검 및 보고:

GumGangCmd.gumgang_ping, GumGangFS.list_directory(GG_ROOT) 호출

VAULT/금강_회의실.md 최신 블록과 VAULT/금강_로그/*.json 유무 확인

gg.sh scan/read 필요 시 실행 제안(명령만 출력)

✅/⚠️/❌ 요약 + 다음 30분 액션 3개 제시
근거는 경로/툴결과 스니펫로 붙여주세요.

yaml
복사
편집

### C. 하루 마감 체크리스트 (5분)
- [ ] `금강_회의실.md`에 **오늘의 마지막 블록** 존재  
- [ ] 오늘 만든 `금강_로그/*.json` 최소 1개 이상  
- [ ] Gemini에게 “오늘 요약/미해결/내일 3개” 요청 후 노트에 붙여넣기  
- [ ] 이슈가 있으면 **gg.sh** 재실행 or 재현 절차 기록

---

## 3) 장애/이상 대응(필수 레시피)

### 3-1. 노트에 아무것도 안 붙는다
- 원인 후보: 경로/권한/플러그인 Busy  
- 점검 순서
  1) 터미널에서 직접 실행  
     ```bash
     ~/바탕화면/gumgang_0_5/gg.sh scan
     ~/바탕화면/gumgang_0_5/gg.sh read
     ```
     → 출력에 **“회의 노트 갱신” / “원본 로그”** 경로가 보이면 OK
  2) Interactivity Busy일 때  
     - DevTools(CTRL+Shift+I)에서 에러 확인  
     - 한글 경로는 **쌍따옴표**로 감싸 사용 권장
  3) 권한 재부여  
     ```bash
     chmod +x ~/바탕화면/gumgang_0_5/gg.sh ~/바탕화면/gumgang_0_5/update_obsidian.sh
     ```

### 3-2. 로그는 생기는데 Append만 안 된다
- `update_obsidian.sh` 안의 **VAULT/MEETING_NOTE 경로** 재확인  
- 노트가 열려 있어도 Append는 됨(읽기 전용 아님). 그래도 안 되면 파일 잠금/권한 확인

### 3-3. MCP 호출이 실패한다
- Zed `settings.json`에서 `GumGangFS/GumGangCmd` **enabled** 확인  
- 툴 아이디에 **한글/공백 금지(ASCII)** 원칙 준수

---

## 4) 실행 단축 모음 (사람이 기억할 최소 명령)

### Obsidian 노트에서
/ggscan # 전체 스캔 → 회의 노트 Append + JSON 저장
/ggread # requirements.txt 읽기 → 노트 Append + JSON 저장

bash
복사
편집

### 터미널에서
# 수동 실행(노트 Append + 로그 저장)
~/바탕화면/gumgang_0_5/gg.sh scan
~/바탕화면/gumgang_0_5/gg.sh read
5) 품질 보증(읽고 바로 확인)
새 블록 헤더는 ⏱ 타임스탬프 + 작업명(scan/read)

각 블록은 json … 으로 감싼 결과 스니펫

금강_로그/에는 같은 타임스탬프의 원본 JSON이 있어야 함

6) 다음 확장(선택·가치 큰 순)
노트 버튼 2개(스캔/읽기) — 클릭 한 번으로 gg.sh 호출

핫키 등록 — “현재 커서 줄 실행”을 단축키로 지정(Interactivity 명령)

로그 스키마 고정 — action, source, summary, files_changed 등 필드 표준화

보존/정리 정책 — 금강_로그 90일 롤링, 주간 ZIP 백업

7) 미션 성공 기준
회의 중 명령 2개(/ggscan, /ggread)만으로 진행 맥락 재구성 가능

Gemini가 최근 1~3개 블록만 읽어도 다음 작업을 제안/실행 지시할 수 있음

모든 변경에 증거(JSON) 가 남고, 사람이 눈으로 검증 가능

끝. 이 문서를 보관함에 저장하고, 금강_회의실.md 상단에 링크 걸어 두면 항상 같은 흐름으로 움직일 수 있어요.
